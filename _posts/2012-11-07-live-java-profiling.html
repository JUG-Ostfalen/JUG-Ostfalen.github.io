---
layout: post
title: Live Java Profiling
date: 2012-11-07 17:37:21.000000000 +01:00
categories:
- Veranstaltungen
tags:
- java
- profiling
- threads
status: publish
type: post
published: true
meta:
  _edit_last: '3'
author:
  login: Uwe S.
  email: uwe.sbr@jug-ostfalen.de
  display_name: Uwe S.
  first_name: Uwe
  last_name: Sauerbrei
---
<p>Ich bin mal gespannt, ob es hier überhaupt etwas gibt, was ich so aufschreiben kann. Vielleicht schreibe ich sowieso schon viel zu viel und niemand liest es (was ich zum Glück nicht weiß).</p>
<p>Immerhin hat es das Thema in den großen Ballsaal geschafft und vielleicht kann Fabian Lange (codecentric) eine spannende Session bieten. Da er direkt nach Angelika Langer kommt, wird das nicht einfach werden...</p>
<p>JVM -&gt; JMX -&gt; GC Log -&gt; Profiler als Übersetzer</p>
<ul>
<li><strong>Instrumentation</strong>: Profiler verändert den Code um Informationen einzusammeln (hier kann die Messung das System so beeinflussen -&gt; muss minimiert werden</li>
<li><strong>Sampling</strong>: betrachtet Threads zu bestimmten Zeitpunkten</li>
<li>Wall Clock &amp; CPU Time</li>
<li>Self &amp; Cumulative (zu viele Aufrufe)</li>
<li>Allocation</li>
<li>Live &amp; GCed</li>
<li>Hotspot</li>
</ul>
<p>Link: <em>Evaluating the Accuracy of Java Profilers</em> [pdf]- Interessanter Artikel zu dem Thema.</p>
<p>[caption id="attachment_989" align="alignleft" width="300"]<a href="http://www.jug-ostfalen.de/wp-content/uploads/2012/11/profiling.jpg"><img class="size-medium wp-image-989" title="profiling" src="assets/profiling-300x295.jpg" alt="" width="300" height="295" /></a> Live Profiling[/caption]</p>
<p>&nbsp;</p>
<p>Praktisches Beispiel bei der Umstellung von DROOLS 5 auf 5.2 (Ausführungszeit ging von 20 Sekunden auf 2 Minuten hoch). Letztendlich wurde, durch den Einsatz von JProfiler festgestellt, dass die Version 5.2 einen Bug hatte, der dann in Version 5.3 behoben wurde.</p>
<p>&nbsp;</p>
<p>Grundsätzlich sollte man immer mit Sampling starten (entdeckt auch unbekannten Code - im Gegensatz zu Instrumentation. CPU mit Hotspots (Pfeil rechts). Im Speicher Allocation Hotspots suchen (hohe Objektanzahl, Filter nach dem eigenen Package). Threads - Timeline und Dumps nutzen.</p>
<div id="blogsy_footer" style="text-align: right; font-size: small; clear: both;"><a href="http://blogsyapp.com" target="_blank"><img style="vertical-align: middle; margin-right: 5px;" src="assets/blogsy_footer_icon.png" alt="Blogsy from Shrikepad" width="20" height="20" />Blogsy from Shrikepad</a></div>
